<!doctype html>
<html>
    <head>
        <link rel="stylesheet" href="/css/styles.css" />
        <script type="module" src="/js/scripts.js"></script>
        <style>
            .content {
                opacity: 0;
                transition: opacity 0.2s ease-in;
            }

            .content.loaded {
                opacity: 1;
            }
        </style>
    </head>
    <body>
        <div class="content">
            <div id="nav-placeholder"></div>

            <h1>Coffee</h1>

            <table id="coffeeTable"></table>
            <div class="disclaimer">As an Amazon Associate I earn from qualifying purchases.</div>
            <div id="social-links-placeholder"></div>
        </div>

        <script type="module">
            import {
                loadHeader,
                loadNavigation,
                loadSocialLinks,
            } from "/js/scripts/loadComponents.js";
            import { tableData } from "/pages/data/tables.js";
            import { generateTable } from "/js/scripts/tableGenerator.js";

            // Load header first
            await loadHeader("coffee");

            // Then load other components
            await Promise.all([loadNavigation("coffee"), loadSocialLinks()]);

            // Generate table
            generateTable("coffeeTable", tableData.coffee);

            // Show content when everything is loaded
            document.querySelector(".content").classList.add("loaded");
        </script>
    </body>
</html>
