<!doctype html>
<html>
    <head>
        <link rel="stylesheet" href="../css/styles.css" />
        <script src="../js/scripts.js"></script>
        <style>
            .content {
                opacity: 0;
                transition: opacity 0.2s ease-in;
            }

            .content.loaded {
                opacity: 1;
            }
        </style>
    </head>
    <body>
        <div class="content">
            <div id="nav-placeholder"></div>

            <h1>Research</h1>

            <table id="researchTable"></table>
            <div id="social-links-placeholder"></div>

            <a href="blog.html">Blog</a>
            <a href="coffee.html">Coffee</a>
            <a href="carry-trade.html">Carry Trade</a>
            <a href="../index.html">About</a>
        </div>

        <script type="module">
            import {
                loadHeader,
                loadNavigation,
                loadSocialLinks,
            } from "../js/scripts/loadComponents.js";
            import { tableData } from "./data/tables.js";
            import { generateTable } from "../js/scripts/tableGenerator.js";

            // Load header first
            await loadHeader();

            // Then load other components
            await Promise.all([loadNavigation("research"), loadSocialLinks()]);

            // Generate table
            generateTable("researchTable", tableData.research);

            // Show content when everything is loaded
            document.querySelector(".content").classList.add("loaded");
        </script>
    </body>
</html>
